'use strict';(function(h){var f=window.AmazonUIPageJS||window.P,n=f._namespace||f.attributeErrors,b=n?n("DetailPageBTFSubNavDesktopAsset",""):f;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,f,n){h.when("ready").register("hit-btf-sub-nav-desktop-metrics-logger",function(){return{incrementMetricCount:function(b){if("undefined"!==typeof b){var e=f.ue;e&&"function"===typeof e.count&&e.count(b,(e.count(b)||0)+1)}}}});"use strict";h.when("A","ready").register("btf-sub-nav-desktop-utils",
function(b){function e(){d("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs .sub-nav-desktop-tab").removeClass("active");d("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs .sub-nav-desktop-tab").removeAttr("aria-current")}var d=b.$;return{processTargetIds:function(l,c){var a={};b.each(c,function(c,b){a:{if(c!==n)for(var g=0;g<c.length;g++)if(d(c[g]).length&&1<d(c[g]).height()){c=c[g];break a}c=!1}c?a[b]=c:d(l+" ."+b).hide()});return a},activateTab:function(b){e();b="#btfSubNavDesktopCopy ."+b;d(b).addClass("active");
d(b).attr("aria-current","location")},deactivateTabs:e,getTargetDivCoordinates:function(b){var c=[];d(b).length&&d(b).offset()&&(c.push(d(b).offset().top),"#owner_zone_btf_header"===b?c.push(d("#owner_zone_btf_footer").offset().top+d("#owner_zone_btf_footer").height()):c.push(d(b).offset().top+d(b).height()-10));return c},onScreen:function(b,c){var a=d(f);c=a.scrollTop()+c;a=f.innerHeight?f.innerHeight:a.height();var v=c+a,e=b[0]-100;b=b[1];return b>c&&b<=v||b-e>a&&e<=c&&b>=v}}});h.when("A","btf-sub-nav-desktop-utils",
"ready").execute(function(b,e){function d(){h.register("btf-sub-nav-desktop-configs",function(){function a(){g=[];for(var a in k)k.hasOwnProperty(a)&&g.push({tab:a,topOffset:c(k[a]).offset().top});g.sort(function(a,c){return a.topOffset-c.topOffset})}var d=b.state("btf-sub-nav-desktop-context"),f=[],g=[],m={},p=!1,q=!1,w=!1;d&&(p=d["btf-sub-nav-desktop-leftAligned"],q=d["btf-sub-nav-desktop-lateActivation"],w=d["btf-sub-nav-desktop-subNavPhase1Enabled"]);var t={btfSubNavDesktopAboutThisItemTab:d["btf-sub-nav-desktop-about-this-item-tab"],
btfSubNavDesktopSimilarTab:d["btf-sub-nav-desktop-similar-tab"],btfSubNavDesktopProductInfoTab:d["btf-sub-nav-desktop-product-info-tab"],btfSubNavDesktopQuestionsTab:d["btf-sub-nav-desktop-questions-tab"],btfSubNavDesktopCustomerReviewsTab:d["btf-sub-nav-desktop-customer-reviews-tab"]},k=e.processTargetIds("#btfSubNavDesktop_feature_div",t);b.objectIsEmpty(k)&&c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-wrapper").hide();d=c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-tabs").outerHeight()-
2;return{tabTargets:t,isLeftAligned:p,isLateActivation:q,isSubNavPhase1Enabled:w,btfSubNavJQElemHeight:d,tabsArray:["btfSubNavDesktopAboutThisItemTab","btfSubNavDesktopSimilarTab","btfSubNavDesktopProductInfoTab","btfSubNavDesktopQuestionsTab","btfSubNavDesktopCustomerReviewsTab"],persistentHeaderClass:"persistent-header",fixedAmazonNavJQElem:"#nav-logobar",fixedAmazonNavBodyClass:"fixed-navbar",animationDuration:500,atfCustomerRatingScrollDuration:800,navigateTopElements:["btfSubNavDesktopTopTab",
"btfSubNavDesktopAboutThisItemTab"],initialize:function(){k=e.processTargetIds("#btfSubNavDesktop_feature_div",t);f=[];for(var b in k)k.hasOwnProperty(b)&&f.push(b);a();m={btfSubNavDesktopTopTab:"btfSubNavDesktopTopTab"};for(b=0;b<f.length;++b)m[f[b]]=g[b].tab;if(0<g.length){b=c("\x3cdiv\x3e");var d=c("#btfSubNavDesktop_feature_div .btfSubNavDesktopTopTab");null!==d&&0<d.length&&c(b).append(d.clone(!0));for(d=0;d<g.length;d++){var p=c("#btfSubNavDesktop_feature_div ."+g[d].tab);null!==p&&0<p.length&&
c(b).append(p.clone(!0))}c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-tabs").html(b.html())}},getSubNavDesktopTabToActualTabMap:function(){return m},getTabsArray:function(){return f}}})}function f(){c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-tabs").length&&(d(),b.off("a:pageUpdate",f))}var c=b.$;if(c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-tabs").length)d();else b.on("a:pageUpdate",f)});h.when("A","hit-btf-sub-nav-desktop-metrics-logger","btf-sub-nav-desktop-configs",
"btf-sub-nav-desktop-utils").execute(function(b,e,d,l){if(!d)return!1;var c=b.$,a={},h=d.btfSubNavJQElemHeight,r=0,g=null;a.isSubNavImpressionsMetricEmitted=!1;a.isSubNavHiddenMetricEmitted=!1;a.isSubNavRenderable=!1;a.isLeftAligned=d.isLeftAligned;a.isLateActivation=d.isLateActivation;a.isSubNavPhase1Enabled=d.isSubNavPhase1Enabled;a.tabTargets=d.tabTargets;a.tabCoordinates={};a.jqSubNav=null;a.topOffset=h+r;a.animationDuration=d.animationDuration;a.THIRD_PARTY_JUMP_LINKS="#acrCustomerReviewLink #askATFLink #owner_zone_atf_jumplink #customerReviewsAttributeSeeAllRatings #seeMoreDetailsLink #HLCXComparisonJumplink_feature_div #climatePledgeFriendlyATF_feature_div #rich_product_information-learn_more_link".split(" ");
a.showTab=function(c){a.jqSubNav.css({top:0,position:"",opacity:c});a.jqSubNav.addClass(d.persistentHeaderClass)};a.hideTab=function(){a.jqSubNav.css({top:-100,position:"absolute",opacity:0});a.jqSubNav.removeClass(d.persistentHeaderClass)};a.fixNarBarWidth=function(){if(c("#btfSubNavDesktopCopy").length){var m=c("#btfSubNavDesktopCopy").width();a.jqSubNav.width(m)}};a.emitSubNavImpressionsMetric=function(){if(!a.isSubNavImpressionsMetricEmitted&&a.isSubNavRenderable){a.logMetric("visible","");for(var c in a.tabs)a.tabs.hasOwnProperty(c)&&
a.logMetric("visible",c);a.isSubNavImpressionsMetricEmitted=!0}};a.logMetric=function(a,c){""!==c?e.incrementMetricCount("hit-btf-sub-nav-desktop:"+c+":"+a):e.incrementMetricCount("hit-btf-sub-nav-desktop:"+a)};a.emitSubNavHiddenMetric=function(c){a.isSubNavHiddenMetricEmitted||(a.logMetric("hidden",c),a.isSubNavHiddenMetricEmitted=!0)};a.applyCenterTabStyling=function(){a.isLeftAligned||a.jqSubNav.css({"justify-content":"center"})};a.attachTwisterUpdateHandler=function(){b.on("PageRefresh:ATF ready",
a.initialize);b.on("PageRefresh:ATF ready",a.attachWidgetsHeightObserver)};a.attachScreenResizeHandler=function(){b.on("resize",a.initialize);b.on("orientationChange",a.initialize)};a.refreshTabCoordinates=function(){b.each(a.tabs,function(c,b){a.tabCoordinates[b]=l.getTargetDivCoordinates(c)})};a.processTabChecks=function(){for(var c=!1,b=d.getTabsArray(),q=d.getSubNavDesktopTabToActualTabMap(),f=0;f<b.length;f++){var g=q[b[f]];if(a.tabCoordinates[g]&&l.onScreen(a.tabCoordinates[g],a.topOffset)){c=
!0;l.activateTab(g);break}}c||l.deactivateTabs()};a.setTopOffset=function(){c("body").hasClass(d.fixedAmazonNavBodyClass)&&c(d.fixedAmazonNavJQElem).length&&(r=c(d.fixedAmazonNavJQElem).outerHeight());a.topOffset=h+r};a.findFeatureDivHeights=function(b,d){var m=!0,p=!1,f=n;try{for(var k=b.children[Symbol.iterator](),g;!(m=(g=k.next()).done);m=!0){var e=g.value;if(e.matches("[data-feature-name]")){if(e.matches("div")&&e.id&&0<e.children.length&&e.matches("[data-feature-name]")){var h=(c(e).offset().top+
c(e).height())/c(document).height();d.push({node:e,nodePageRatio:h})}0<e.children.length&&e.matches("[data-feature-name]")&&a.findFeatureDivHeights(e,d)}}}catch(u){p=!0,f=u}finally{try{!m&&k.return&&k.return()}finally{if(p)throw f;}}};a.copyFeatureDivToPost35Percent=function(){var b=document.querySelector("#dp-container");if(b){var d=[];if(0<b.children.length&&Array.from(b.children).every(function(a){return!a.matches("[data-feature-name]")}))a.logMetric("missing-data-feature-name","");else{a.findFeatureDivHeights(b,
d);d.sort(function(a,c){return a.nodePageRatio-c.nodePageRatio});b=void 0;var q=!0,f=!1,e=n;try{for(var g=d[Symbol.iterator](),h;!(q=(h=g.next()).done);q=!0){var l=h.value,r=l.node;if(.35<l.nodePageRatio){b=r;break}}}catch(u){f=!0,e=u}finally{try{!q&&g.return&&g.return()}finally{if(f)throw e;}}b&&"btfSubNavDesktopCopy"!==b.id&&c("#btfSubNavDesktop_feature_div").clone().attr("id","btfSubNavDesktopCopy").insertAfter(c(b))}}else a.logMetric("missing-dp-container","")};a.copyFeatureDivToTopOfBtf=function(){var a=
void 0;0<c("#bottomRow").length?a=c("#bottomRow"):0<c("#ATFCriticalFeaturesDataContainer").length&&(a=c("#ATFCriticalFeaturesDataContainer"));a!==n&&0<a.length&&c("#btfSubNavDesktop_feature_div").clone().attr("id","btfSubNavDesktopCopy").insertAfter(c(a))};a.scrollHandler=function(){var b=d.getTabsArray();if(!a.isSubNavPhase1Enabled&&3>b.length)a.disableKeyboardFocusOnTabs(),a.emitSubNavHiddenMetric("less-than-3-tabs");else{a.setTopOffset();b=c(f).scrollTop()+r;var e=b+f.innerHeight,g=c(document).height(),
h=c("#bottomRow"),l=c("#ATFCriticalFeaturesDataContainer");if(a.isLateActivation)var k=.35*g;else if(0<h.length?k=h:0<l.length&&(k=l),k!==n&&0<k.length)k=k.offset().top+k.innerHeight();else{a.emitSubNavHiddenMetric("no-triggering-element");return}b=(e-k)/(e-b)*100;a.refreshTabCoordinates();100<=b?(a.showTab(1),a.processTabChecks(),a.emitSubNavImpressionsMetric()):90<=b&&100>b?(a.showTab((b-90)/25),a.processTabChecks(),a.emitSubNavImpressionsMetric()):(a.hideTab(),a.processTabChecks())}};a.clickHandler=
function(d){d.preventDefault();b.off("scroll",a.scrollHandler);a.jqSubNav.css({opacity:1});d=d.currentTarget.className.split(" ")[1];var m=a.tabs[d];a.logMetric("click",d);"btfSubNavDesktopTopTab"===d?(c("html,body").animate({scrollTop:0},a.animationDuration),b.on("scroll",a.scrollHandler),a.setKeyboardFocus("#"+a.getTopTabTargetId())):(l.activateTab(d),a.animationHelper(m,a.topOffset),b.delay(function(){b.on("scroll",a.scrollHandler);a.showTab(1)},a.animationDuration+100),a.setKeyboardFocus(m))};
a.animationHelper=function(b,d){c(b).offset()&&c("html,body").stop(!0,!1).animate({scrollTop:c(b).offset().top-d},{duration:a.animationDuration,step:function(a,e){a=c(b).offset().top-d;e.end!==a&&(e.end=a)},complete:function(){c("html, body").animate({scrollTop:c(b).offset().top-d},{duration:0})}})};a.handleThirdPartyJumpLinks=function(){b.off("scroll",a.scrollHandler);b.off("a:pageUpdate",a.initialize);b.delay(function(){b.on("scroll",a.scrollHandler);b.on("a:pageUpdate",a.initialize)},d.atfCustomerRatingScrollDuration)};
a.detachThirdPartyJumpLinksHandlers=function(){a.THIRD_PARTY_JUMP_LINKS.forEach(function(b){c(b).length&&c(b).unbind("click",a.handleThirdPartyJumpLinks)})};a.attachThirdPartyJumpLinksHandlers=function(){a.THIRD_PARTY_JUMP_LINKS.forEach(function(b){c(b).length&&c(b).click(a.handleThirdPartyJumpLinks)})};a.detachHandlers=function(){b.off("scroll",a.scrollHandler);a.detachThirdPartyJumpLinksHandlers();c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs .sub-nav-desktop-tab").unbind("click",a.clickHandler)};
a.attachHandlers=function(){b.on("scroll",a.scrollHandler);a.attachThirdPartyJumpLinksHandlers();c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs .sub-nav-desktop-tab").click(a.clickHandler)};a.setHyperlinkDestinations=function(a){c.each(a,function(a,b){c("#btfSubNavDesktopCopy ."+a).attr("href",b)})};a.setKeyboardFocus=function(a){0!==c(a).length&&(c(a).attr("tabindex","-1"),c(a)[0].focus({preventScroll:!0}),c(a).removeAttr("tabindex"))};a.getTopTabTargetId=function(){return 0<c("#nav-top").length?
"nav-top":0<c("#navbar-main").length?"navbar-main":"nav-logo"};a.disableKeyboardFocusOnTabs=function(){c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs .sub-nav-desktop-tab").attr("tabindex","-1")};a.removeHiddenClassAndHideTabs=function(){a.jqSubNav.hasClass("aok-hidden")&&a.hideTab();a.jqSubNav.removeClass("aok-hidden")};a.removeSubNavDivCopyIfExists=function(){c("#btfSubNavDesktopCopy").length&&c("#btfSubNavDesktopCopy").remove()};a.initialize=function(){a.removeSubNavDivCopyIfExists();d.initialize();
a.tabs=l.processTargetIds("#btfSubNavDesktop_feature_div",a.tabTargets);b.objectIsEmpty(a.tabs)?(a.detachHandlers(),c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs").hide(),a.emitSubNavHiddenMetric("empty-tabs-list")):(a.isLateActivation?a.copyFeatureDivToPost35Percent():a.copyFeatureDivToTopOfBtf(),a.jqSubNav=c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs"),a.setHyperlinkDestinations(a.tabs),a.applyCenterTabStyling(),a.isSubNavRenderable=!0,a.setTopOffset(),a.fixNarBarWidth(),a.scrollHandler(),
a.refreshTabCoordinates(),a.detachHandlers(),a.attachHandlers(),a.removeHiddenClassAndHideTabs(),document.removeEventListener("focusin",a.focusHandler),document.addEventListener("focusin",a.focusHandler),c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs").is("[aria-label]")||c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs").attr("aria-label","Navigate within the product detail page"))};a.attachWidgetsHeightObserver=function(){var b=new f.ResizeObserver(function(b){b.forEach(function(b){1>=b.contentRect.height&&
a.updateTabs()})});c.each(a.tabs,function(a,c){b.observe(document.querySelector(c))})};a.updateTabs=function(){d.initialize();c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs").html(c("#btfSubNavDesktop_feature_div .btf-sub-nav-desktop-tabs").html());a.tabs=l.processTargetIds("#btfSubNavDesktopCopy",a.tabTargets);b.objectIsEmpty(a.tabs)?(a.detachHandlers(),c("#btfSubNavDesktopCopy .btf-sub-nav-desktop-tabs").hide(),a.emitSubNavHiddenMetric("empty-tabs-list")):(a.setHyperlinkDestinations(a.tabs),
a.scrollHandler(),a.refreshTabCoordinates(),a.detachHandlers(),a.attachHandlers(),a.removeHiddenClassAndHideTabs(),document.removeEventListener("focusin",a.focusHandler),document.addEventListener("focusin",a.focusHandler))};a.focusHandler=function(b){if(b.target&&b.target.classList&&b.target.classList.contains("sub-nav-desktop-tab")){g||(g=c(document).height());b=c("#bottomRow");var e=c("#ATFCriticalFeaturesDataContainer");if(a.isLateActivation)var h=.35*g;else if(0<b.length?h=b:0<e.length&&(h=e),
h!==n&&0<h.length)h=h.offset().top+h.innerHeight();else return;a.jqSubNav.hasClass(d.persistentHeaderClass)||f.scroll({top:Math.ceil(h)})}else g=null};a.initialize();a.attachTwisterUpdateHandler();a.attachScreenResizeHandler();a.attachWidgetsHeightObserver()})});